<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="icon" type="image/x-icon" href="favicon-32x32.png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="animusgaleria.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Hermandad</title>
</head>
<body>
    <canvas id="animus-bg"></canvas>

    <div class="loading-overlay">
        <div class="loading-text">[ SINCRONIZANDO ANIMUS ]</div>
    </div>

    <div class="gallery-container">
        <h1 class="gallery-title">La Hermandad</h1>
        <div class="scan-line"></div>
        <div class="gallery-grid" id="gallery">
        </div>
    </div>

    <div class="detail-view" id="detailView">
        <button class="close-btn" onclick="closeDetail()">×</button>
        <div class="detail-content">
            <div class="detail-image">
                <div class="detail-image-wrapper">
                    <img id="detailImage" src="" alt="">
                </div>
            </div>
            <div class="detail-text">
                <div class="detail-header">
                    <h2 id="detailName"></h2>
                    <p id="detailInfo"></p>
                </div>
                <div class="text-editor" contenteditable="true" id="textEditor"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        // Datos de los asesinos
        const assassins = [
            {
                name: "Altaïr Ibn-La'Ahad",
                info: "El Águila de Masyaf - Tercera Cruzada (1191)",
                image: "https://img.goodfon.com/original/5249x2952/1/44/assassin-s-creed-assassins-6827.jpg",
                description: "Maestro Asesino de la Orden durante las Cruzadas. Reformó la Hermandad y desveló los secretos de la Manzana del Edén."
            },
            {
                name: "Ezio Auditore da Firenze",
                info: "Il Mentore - Renacimiento Italiano (1459-1524)",
                image: "https://cdna.artstation.com/p/assets/images/images/028/229/304/large/rup_k-_arts-ezio-auditore-brotherhood.jpg?1593850970",
                description: "El asesino más legendario de la Hermandad. Reconstruyó la Orden en Italia y liberó Roma del control Templario."
            },
            {
                name: "Ratonhnhaké:ton (Connor)",
                info: "El Lobo Solitario - Revolución Americana (1756-1829)",
                image: "https://i.pinimg.com/736x/49/f3/c1/49f3c1807f79cffc06eb537b32136e09.jpg",
                description: "Guerrero Mohawk que luchó por la libertad durante la independencia de Estados Unidos y protegió a su pueblo."
            },
            {
                name: "Edward Kenway",
                info: "El Pirata Asesino - Era Dorada (1693-1735)",
                image: "https://img.europapress.es/fotoweb/fotonoticia_20130926181936_1200.jpg",
                description: "Capitán corsario que se unió a la Hermandad. Padre de Haytham y abuelo de Connor Kenway."
            },
            {
                name: "Arno Victor Dorian",
                info: "El Asesino Parisino - Revolución Francesa (1768-1808)",
                image: "https://i.pinimg.com/474x/7d/48/d8/7d48d8793e5b5f532657cb5879d13673.jpg",
                description: "Maestro Asesino francés que operó durante la Revolución Francesa. Experto en sigilo y combate con espada."
            },
            {
                name: "Jacob & Evie Frye",
                info: "Los Gemelos - Londres Victoriano (1847-1888)",
                image: "https://pbs.twimg.com/media/Gb7QDjMaUAASLB-.jpg:large",
                description: "Hermanos asesinos que liberaron Londres del control Templario y fundaron los Rooks, la mayor banda criminal de la ciudad."
            }
        ];
            
        const gallery = document.getElementById('gallery');
        assassins.forEach((assassin, index) => {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.style.animationDelay = `${index * 0.1}s`;
            item.innerHTML = `
                <img src="${assassin.image}" alt="${assassin.name}">
                <div class="assassin-name">${assassin.name}</div>
            `;
            item.onclick = () => openDetail(index);
            gallery.appendChild(item);
        });

        const notes = {};

        function openDetail(index) {
            const assassin = assassins[index];
            document.getElementById('detailImage').src = assassin.image;
            document.getElementById('detailName').textContent = assassin.name;
            document.getElementById('detailInfo').textContent = assassin.info;
            
            const editor = document.getElementById('textEditor');
            editor.innerHTML = notes[index] || assassin.description;
            
            document.querySelector('.gallery-container').classList.add('hidden');
            document.getElementById('detailView').classList.add('active');
            document.body.style.overflow = 'hidden';

            editor.oninput = () => {
                notes[index] = editor.innerHTML;
            };
        }

        function closeDetail() {
            document.getElementById('detailView').classList.remove('active');
            setTimeout(() => {
                document.querySelector('.gallery-container').classList.remove('hidden');
            }, 300);
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeDetail();
            }
        });

        const canvas = document.getElementById('animus-bg');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 80;
        const lines = [];

        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                vx: (Math.random() - 0.5) * 0.3,
                vy: (Math.random() - 0.5) * 0.3,
                radius: Math.random() * 2 + 1
            });
        }

        function animate() {
            ctx.fillStyle = 'rgba(13, 27, 42, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            particles.forEach((p, i) => {
                p.x += p.vx;
                p.y += p.vy;

                if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                if (p.y < 0 || p.y > canvas.height) p.vy *= -1;

                ctx.fillStyle = 'rgba(0, 212, 255, 0.6)';
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fill();

                for (let j = i + 1; j < particles.length; j++) {
                    const p2 = particles[j];
                    const dx = p.x - p2.x;
                    const dy = p.y - p2.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < 150) {
                        ctx.strokeStyle = `rgba(0, 212, 255, ${0.2 * (1 - dist / 150)})`;
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(p.x, p.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                    }
                }
            });

            requestAnimationFrame(animate);
        }

        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>